<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parch — End-to-End Encrypted Chat</title>

    <meta
      name="description"
      content="Parch is a user-hosted, end-to-end encrypted chat platform. Browser-generated keys, host challenge auth, signed capability tokens, sealed envelopes. The relay never sees plaintext."
    />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://parchchat.com/" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://parchchat.com/" />
    <meta property="og:title" content="Parch — End-to-End Encrypted Chat" />
    <meta
      property="og:description"
      content="User-hosted E2EE chat. Browser-generated keys, host challenge auth, public-key identity, signed capability tokens. Messages never leave your device unencrypted."
    />
    <meta property="og:image" content="https://parchchat.com/static/parchclient_icon.webp" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Parch — End-to-End Encrypted Chat" />
    <meta
      name="twitter:description"
      content="User-hosted E2EE chat. Browser-generated keys, public-key identity, host challenge auth, signed capability tokens."
    />
    <meta name="twitter:image" content="https://parchchat.com/static/parchclient_icon.webp" />

    <link rel="icon" type="image/webp" href="/static/parchclient_icon.webp" />
    <link rel="apple-touch-icon" href="/static/parchclient_icon.webp" />
    <link rel="stylesheet" href="/static/parch-core.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Source+Serif+4:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ============================================
         PAGE FOUNDATIONS
         ============================================ */
      :root {
        color-scheme: dark;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Source Serif 4", Georgia, "Times New Roman", serif;
        font-weight: 400;
        color: var(--parch-white);
        letter-spacing: 0.3px;
        line-height: 1.6;
        background:
          radial-gradient(ellipse 80% 60% at 8% 10%, rgba(66, 85, 119, 0.35), transparent 50%),
          radial-gradient(ellipse 70% 50% at 92% 14%, rgba(119, 167, 77, 0.15), transparent 45%),
          radial-gradient(ellipse 50% 40% at 50% 85%, rgba(66, 85, 119, 0.12), transparent 50%),
          linear-gradient(145deg, var(--parch-dark) 0%, var(--parch-second-dark) 40%, var(--parch-black) 100%);
        background-attachment: fixed;
      }

      h1, h2, h3, h4 {
        font-family: "Playfair Display", Georgia, serif;
        color: var(--parch-bright-white);
        letter-spacing: 1.2px;
        line-height: 1.15;
        margin: 0;
      }

      a {
        color: var(--parch-accent-blue);
        text-decoration: none;
        transition: color 0.2s ease;
      }

      a:hover {
        text-decoration: underline;
      }

      a:focus-visible {
        outline: 2px solid var(--parch-accent-blue);
        outline-offset: 2px;
      }

      /* ============================================
         REVEAL ANIMATION
         ============================================ */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                    transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      .reveal.visible {
        opacity: 1;
        transform: translateY(0);
      }

      @media (prefers-reduced-motion: reduce) {
        .reveal {
          opacity: 1;
          transform: none;
          transition: none;
        }
      }

      /* ============================================
         LAYOUT
         ============================================ */
      .container {
        max-width: 1180px;
        margin: 0 auto;
        padding: 0 24px;
      }

      /* ============================================
         SITE HEADER
         ============================================ */
      .site-header {
        padding: 24px 0;
      }

      .header-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .header-brand {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
      }

      .header-brand:hover {
        text-decoration: none;
      }

      .header-logo {
        width: 40px;
        height: 40px;
        border-radius: 10px;
      }

      .header-name {
        font-family: "Playfair Display", Georgia, serif;
        font-weight: 700;
        font-size: 1.2rem;
        color: var(--parch-bright-white);
        letter-spacing: 1px;
      }

      .header-nav {
        display: flex;
        gap: 24px;
      }

      .header-nav a {
        font-size: 0.9rem;
        color: var(--parch-white);
        opacity: 0.7;
        transition: opacity 0.2s ease;
      }

      .header-nav a:hover {
        opacity: 1;
        text-decoration: none;
      }

      /* ============================================
         HERO SECTION
         ============================================ */
      .hero {
        padding: 80px 0 60px;
        position: relative;
      }

      .hero-actions {
        display: flex;
        gap: 14px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 36px;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        border-radius: 8px;
        font-family: "Source Serif 4", Georgia, serif;
        font-weight: 600;
        font-size: 1rem;
        letter-spacing: 0.6px;
        text-decoration: none;
        color: var(--parch-bright-white);
        background: var(--parch-light-blue);
        border-left: 1px solid var(--parch-gray);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        transition: filter 0.15s ease, transform 0.15s ease;
        cursor: pointer;
      }

      .btn:hover {
        filter: brightness(1.12);
        text-decoration: none;
        transform: translateY(-1px);
      }

      .btn:focus-visible {
        outline: 2px solid var(--parch-accent-blue);
        outline-offset: 2px;
      }

      .btn:active {
        border-left: 1px solid var(--parch-black);
        border-top: 1px solid var(--parch-black);
        border-right: 1px solid var(--parch-gray);
        border-bottom: 1px solid var(--parch-gray);
        transform: translateY(0);
      }

      .hero-inner {
        max-width: 780px;
      }

      .hero-kicker {
        display: inline-block;
        font-family: "Source Serif 4", Georgia, serif;
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 3px;
        color: var(--parch-green);
        margin-bottom: 24px;
      }

      .hero h1 {
        font-size: clamp(2.4rem, 5vw, 3.6rem);
        font-weight: 900;
        line-height: 1.08;
        margin-bottom: 28px;
      }

      .hero h1 em {
        font-style: normal;
        color: var(--parch-accent-blue);
      }

      .hero-subtitle {
        font-size: clamp(1.05rem, 1.8vw, 1.25rem);
        color: var(--parch-white);
        max-width: 640px;
        line-height: 1.7;
        margin-bottom: 0;
        opacity: 0.85;
      }

      /* ============================================
         SECTION COMMON
         ============================================ */
      .section {
        padding: 100px 0;
      }

      .section-label {
        font-family: "Source Serif 4", Georgia, serif;
        font-weight: 600;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 3.5px;
        color: var(--parch-green);
        margin-bottom: 16px;
      }

      .section-title {
        font-size: clamp(1.8rem, 3.5vw, 2.8rem);
        font-weight: 700;
        margin-bottom: 20px;
      }

      .section-subtitle {
        font-size: 1.1rem;
        color: var(--parch-white);
        opacity: 0.75;
        max-width: 560px;
        line-height: 1.65;
        margin-bottom: 52px;
      }

      .section-narrow-top {
        padding-top: 40px;
      }

      .section-compact {
        padding-top: 40px;
        padding-bottom: 60px;
      }

      /* ============================================
         CONTENT CARD
         ============================================ */
      .content-card {
        background: linear-gradient(160deg, var(--parch-dark-blue) 0%, var(--parch-second-dark) 100%);
        border-radius: 14px;
        border-left: 1px solid var(--parch-gray);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        padding: 36px 32px;
      }

      .content-card h3 {
        font-size: 1.35rem;
        font-weight: 700;
        margin-bottom: 16px;
      }

      .content-card p {
        color: var(--parch-white);
        opacity: 0.8;
        line-height: 1.65;
        margin: 0 0 16px;
      }

      .content-card p:last-child {
        margin-bottom: 0;
      }

      /* ============================================
         BADGE PILLS
         ============================================ */
      .badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 18px;
        border-radius: 999px;
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--parch-bright-white);
        background: rgba(66, 85, 119, 0.2);
        border: 1px solid var(--parch-gray);
        margin-top: 8px;
      }

      .badge .badge-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--parch-green);
        box-shadow: 0 0 8px rgba(119, 167, 77, 0.5);
      }

      .badge-green {
        background: rgba(119, 167, 77, 0.15);
        border-color: rgba(119, 167, 77, 0.3);
      }

      .badge-blue {
        background: rgba(66, 85, 119, 0.25);
        border-color: rgba(157, 179, 211, 0.25);
      }

      .badges-row {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 24px;
      }

      /* ============================================
         SECTION 1 — IDENTITY
         ============================================ */
      .identity-layout {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 32px;
        align-items: start;
      }

      .identity-visual {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .keygen-diagram {
        width: 100%;
        max-width: 360px;
      }

      .keygen-diagram svg {
        width: 100%;
        height: auto;
      }

      .key-explain {
        list-style: none;
        padding: 0;
        margin: 16px 0 0;
      }

      .key-explain li {
        position: relative;
        padding-left: 22px;
        margin-bottom: 12px;
        font-size: 0.95rem;
        color: var(--parch-white);
        opacity: 0.85;
        line-height: 1.55;
      }

      .key-explain li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 8px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--parch-green);
      }

      .key-explain li strong {
        color: var(--parch-bright-white);
      }

      /* ============================================
         SECTION 2 — AUTH FLOW
         ============================================ */
      .auth-steps {
        display: flex;
        flex-direction: column;
        gap: 0;
        margin-bottom: 24px;
      }

      .auth-step {
        display: flex;
        gap: 20px;
        align-items: flex-start;
        position: relative;
        padding: 20px 0;
      }

      .auth-step:not(:last-child)::after {
        content: "";
        position: absolute;
        left: 21px;
        top: 62px;
        bottom: 0;
        width: 2px;
        background: var(--parch-gray);
        opacity: 0.4;
      }

      .auth-step-number {
        flex-shrink: 0;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background: rgba(66, 85, 119, 0.35);
        border: 1px solid var(--parch-gray);
        font-family: "Playfair Display", Georgia, serif;
        font-weight: 700;
        font-size: 1.1rem;
        color: var(--parch-accent-blue);
      }

      .auth-step-content h4 {
        font-size: 1.05rem;
        font-weight: 700;
        margin-bottom: 6px;
      }

      .auth-step-content p {
        font-size: 0.95rem;
        color: var(--parch-white);
        opacity: 0.75;
        margin: 0;
        line-height: 1.55;
      }

      .auth-detail {
        margin-top: 20px;
        padding: 20px 24px;
        background: rgba(38, 44, 57, 0.6);
        border: 1px solid var(--parch-gray);
        border-radius: 10px;
      }

      .auth-detail p {
        font-size: 0.93rem;
        color: var(--parch-white);
        opacity: 0.75;
        margin: 0;
        line-height: 1.6;
      }

      .auth-signature-format {
        font-family: "Courier New", Courier, monospace;
        font-size: 0.82rem;
        color: var(--parch-accent-blue);
        background: rgba(19, 20, 24, 0.6);
        padding: 12px 16px;
        border-radius: 8px;
        border: 1px solid rgba(89, 96, 117, 0.4);
        margin: 12px 0;
        word-break: break-all;
        display: block;
      }

      /* ============================================
         SECTION 3 — ENCRYPTION (VISUAL CENTERPIECE)
         ============================================ */
      .envelope-steps {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 40px;
      }

      .envelope-step {
        background: linear-gradient(160deg, var(--parch-dark-blue) 0%, var(--parch-second-dark) 100%);
        border-radius: 14px;
        border-left: 1px solid var(--parch-gray);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        padding: 28px 20px 24px;
        text-align: center;
        position: relative;
      }

      .envelope-step::after {
        content: "";
        position: absolute;
        inset: -1px;
        border-radius: 14px;
        background: linear-gradient(135deg, rgba(157, 179, 211, 0.12), transparent 60%);
        z-index: -1;
        pointer-events: none;
      }

      .envelope-step-number {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: rgba(119, 167, 77, 0.2);
        border: 1px solid rgba(119, 167, 77, 0.35);
        font-family: "Playfair Display", Georgia, serif;
        font-weight: 700;
        font-size: 0.9rem;
        color: var(--parch-green);
        margin-bottom: 14px;
      }

      .envelope-step-badge {
        display: inline-block;
        padding: 3px 12px;
        border-radius: 999px;
        font-size: 0.7rem;
        font-weight: 600;
        font-family: "Source Serif 4", Georgia, serif;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--parch-accent-blue);
        background: rgba(66, 85, 119, 0.35);
        border: 1px solid rgba(157, 179, 211, 0.2);
        margin-bottom: 12px;
      }

      .envelope-step h4 {
        font-size: 1rem;
        font-weight: 700;
        margin-bottom: 8px;
        letter-spacing: 0.5px;
      }

      .envelope-step p {
        font-size: 0.82rem;
        color: var(--parch-white);
        opacity: 0.65;
        line-height: 1.5;
        margin: 0;
      }

      .envelope-step .step-icon {
        width: 48px;
        height: 48px;
        margin: 0 auto 14px;
      }

      .envelope-step .step-icon svg {
        width: 100%;
        height: 100%;
      }

      /* Envelope structure visualization */
      .envelope-structure {
        background: linear-gradient(160deg, var(--parch-dark-blue) 0%, var(--parch-second-dark) 100%);
        border-radius: 14px;
        border-left: 1px solid var(--parch-gray);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        padding: 32px;
        margin-bottom: 32px;
      }

      .envelope-structure h3 {
        font-size: 1.15rem;
        margin-bottom: 24px;
        text-align: center;
      }

      .envelope-visual {
        max-width: 520px;
        margin: 0 auto;
        font-family: "Courier New", Courier, monospace;
        font-size: 0.82rem;
        line-height: 1.7;
      }

      .env-line {
        padding: 4px 0;
      }

      .env-brace {
        color: var(--parch-gray);
      }

      .env-key {
        color: var(--parch-accent-blue);
        padding-left: 20px;
      }

      .env-value {
        color: var(--parch-white);
        opacity: 0.65;
      }

      .env-comment {
        color: var(--parch-green);
        font-size: 0.75rem;
        opacity: 0.8;
        margin-left: 8px;
      }

      .env-nested {
        padding-left: 40px;
      }

      .env-highlight {
        background: rgba(119, 167, 77, 0.08);
        border-left: 2px solid var(--parch-green);
        padding-left: 18px;
        margin-left: 0;
      }

      .encryption-badges {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
        justify-content: center;
      }

      /* ============================================
         SECTION 4 — TRUST BOUNDARIES
         ============================================ */
      .trust-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
      }

      .trust-col {
        padding: 36px 28px;
        background: linear-gradient(160deg, var(--parch-dark-blue) 0%, var(--parch-second-dark) 100%);
        border-radius: 14px;
        border-left: 1px solid var(--parch-gray);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        text-align: center;
      }

      .trust-col-browser {
        border-top: 2px solid var(--parch-green);
        box-shadow: 0 0 30px rgba(119, 167, 77, 0.08);
        position: relative;
      }

      .plaintext-label {
        position: absolute;
        top: -11px;
        left: 50%;
        transform: translateX(-50%);
        padding: 2px 14px;
        border-radius: 999px;
        font-size: 0.65rem;
        font-weight: 600;
        letter-spacing: 2px;
        color: var(--parch-bright-white);
        background: var(--parch-green);
        white-space: nowrap;
      }

      .trust-icon {
        width: 56px;
        height: 56px;
        margin: 0 auto 20px;
      }

      .trust-icon svg {
        width: 100%;
        height: 100%;
      }

      .trust-col h3 {
        font-size: 1.35rem;
        font-weight: 700;
        margin-bottom: 10px;
      }

      .trust-col .trust-role {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-weight: 600;
        color: var(--parch-green);
        margin-bottom: 16px;
      }

      .trust-col ul {
        list-style: none;
        padding: 0;
        margin: 16px 0 0;
        text-align: left;
      }

      .trust-col li {
        position: relative;
        padding-left: 18px;
        margin-bottom: 8px;
        font-size: 0.9rem;
        color: var(--parch-white);
        opacity: 0.8;
      }

      .trust-col li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 8px;
        width: 6px;
        height: 6px;
        border-radius: 50%;
      }

      .trust-col li.trust-yes::before {
        background: var(--parch-green);
      }

      .trust-col li.trust-no::before {
        background: var(--parch-light-red);
      }

      /* ============================================
         SECTION 5 — IMPORTANT NOTES
         ============================================ */
      .notes-callout {
        background: linear-gradient(160deg, var(--parch-dark-blue) 0%, var(--parch-second-dark) 100%);
        border-radius: 14px;
        border-left: 2px solid var(--parch-accent-blue);
        border-top: 1px solid var(--parch-gray);
        border-right: 1px solid var(--parch-black);
        border-bottom: 1px solid var(--parch-black);
        padding: 32px;
      }

      .notes-callout h3 {
        font-size: 1.3rem;
        margin-bottom: 20px;
      }

      .notes-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .notes-list li {
        position: relative;
        padding-left: 28px;
        margin-bottom: 16px;
        font-size: 0.95rem;
        color: var(--parch-white);
        opacity: 0.8;
        line-height: 1.6;
      }

      .notes-list li:last-child {
        margin-bottom: 0;
      }

      .notes-list li::before {
        content: "";
        position: absolute;
        left: 0;
        top: 7px;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        border: 2px solid var(--parch-accent-blue);
      }

      .notes-list li strong {
        color: var(--parch-bright-white);
      }

      /* ============================================
         FOOTER
         ============================================ */
      .site-footer {
        padding: 40px 0;
        border-top: 1px solid var(--parch-gray);
        margin-top: 20px;
      }

      .footer-inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
      }

      .footer-links {
        display: flex;
        gap: 28px;
      }

      .footer-links a {
        font-size: 0.9rem;
        color: var(--parch-white);
        opacity: 0.6;
        transition: opacity 0.2s ease;
      }

      .footer-links a:hover {
        opacity: 1;
        text-decoration: none;
      }

      .footer-copy {
        font-size: 0.85rem;
        color: var(--parch-gray);
      }

      /* ============================================
         STAGGER DELAYS
         ============================================ */
      .stagger-1 { transition-delay: 0.1s; }
      .stagger-2 { transition-delay: 0.2s; }
      .stagger-3 { transition-delay: 0.3s; }
      .stagger-4 { transition-delay: 0.4s; }
      .stagger-5 { transition-delay: 0.5s; }
      .stagger-6 { transition-delay: 0.6s; }
      .stagger-7 { transition-delay: 0.7s; }
      .stagger-8 { transition-delay: 0.8s; }
      .stagger-9 { transition-delay: 0.9s; }

      @media (prefers-reduced-motion: reduce) {
        .stagger-1, .stagger-2, .stagger-3, .stagger-4, .stagger-5,
        .stagger-6, .stagger-7, .stagger-8, .stagger-9 {
          transition-delay: 0s;
        }
      }

      /* ============================================
         RESPONSIVE
         ============================================ */
      @media (max-width: 768px) {
        body {
          background-attachment: scroll;
        }

        .hero h1 {
          font-size: clamp(1.8rem, 7vw, 2.6rem);
        }

        .section {
          padding: 70px 0;
        }

        .identity-layout {
          grid-template-columns: 1fr;
        }

        .envelope-steps {
          grid-template-columns: 1fr 1fr;
        }

        .trust-grid {
          grid-template-columns: 1fr;
        }

        .plaintext-label {
          font-size: 0.6rem;
        }

        .footer-inner {
          flex-direction: column;
          text-align: center;
        }

        .footer-links {
          justify-content: center;
        }

        .envelope-visual {
          font-size: 0.72rem;
        }

        .env-key {
          padding-left: 12px;
        }

        .env-nested {
          padding-left: 24px;
        }
      }

      @media (max-width: 480px) {
        .envelope-steps {
          grid-template-columns: 1fr;
        }

        .content-card {
          padding: 28px 20px;
        }

        .trust-col {
          padding: 28px 20px;
        }

        .envelope-structure {
          padding: 24px 16px;
        }

        .notes-callout {
          padding: 24px 20px;
        }
      }
    </style>
  </head>

  <body class="parch-noise">
    <!-- ========== HEADER ========== -->
    <header class="site-header">
      <div class="container">
        <div class="header-inner">
          <a class="header-brand" href="/">
            <img class="header-logo" src="/static/parchclient_icon.webp" alt="Parch logo" />
            <span class="header-name">Parch</span>
          </a>
          <nav class="header-nav">
            <a href="https://chat.parchchat.com/client">Open Chat</a>
            <a href="/call">Video Calls</a>
          </nav>
        </div>
      </div>
    </header>

    <!-- ========== HERO ========== -->
    <section class="hero">
      <div class="container">
        <div class="hero-inner">
          <span class="hero-kicker reveal">End-to-End Encrypted</span>
          <h1 class="reveal stagger-1">Your messages.<br />Your keys.<br /><em>Your server.</em></h1>
          <p class="hero-subtitle reveal stagger-2">
            Parch chat requires no email logins — your browser generates your cryptographic identity,
            the relay validates signed host/user challenges plus short-lived space capabilities,
            and only intended recipients can read your messages.
          </p>
          <div class="hero-actions reveal stagger-3">
            <a class="btn" href="https://chat.parchchat.com/client">Open Web Chat</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== SECTION 1: IDENTITY ========== -->
    <section class="section">
      <div class="container">
        <div class="section-label reveal">Section 1</div>
        <h2 class="section-title reveal stagger-1">Your keys are your identity</h2>
        <p class="section-subtitle reveal stagger-2">
          No accounts, no passwords. Your browser generates everything you need.
        </p>

        <div class="identity-layout">
          <!-- Visual -->
          <div class="identity-visual reveal stagger-3">
            <div class="keygen-diagram">
              <svg aria-hidden="true" viewBox="0 0 360 280" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Browser box -->
                <rect x="80" y="10" width="200" height="50" rx="8" stroke="var(--parch-accent-blue)" stroke-width="1.5" fill="rgba(38, 44, 57, 0.6)"/>
                <text x="180" y="40" text-anchor="middle" fill="var(--parch-accent-blue)" font-family="Source Serif 4, Georgia, serif" font-size="14" font-weight="600">Your Browser</text>

                <!-- Arrow down -->
                <line x1="180" y1="60" x2="180" y2="90" stroke="var(--parch-gray)" stroke-width="1.5" stroke-dasharray="4 3"/>
                <text x="180" y="82" text-anchor="middle" fill="var(--parch-green)" font-family="Source Serif 4, Georgia, serif" font-size="10" font-weight="600">GENERATES</text>

                <!-- Ed25519 key pair -->
                <rect x="20" y="100" width="150" height="70" rx="10" stroke="var(--parch-green)" stroke-width="1.5" fill="rgba(119, 167, 77, 0.08)"/>
                <text x="95" y="123" text-anchor="middle" fill="var(--parch-green)" font-family="Courier New, monospace" font-size="11" font-weight="600">Ed25519</text>
                <text x="95" y="142" text-anchor="middle" fill="var(--parch-white)" font-family="Source Serif 4, Georgia, serif" font-size="11" opacity="0.8">Signing Keypair</text>
                <text x="95" y="160" text-anchor="middle" fill="var(--parch-gray)" font-family="Source Serif 4, Georgia, serif" font-size="10">identity + authentication</text>

                <!-- ECDH key pair -->
                <rect x="190" y="100" width="150" height="70" rx="10" stroke="var(--parch-accent-blue)" stroke-width="1.5" fill="rgba(66, 85, 119, 0.12)"/>
                <text x="265" y="123" text-anchor="middle" fill="var(--parch-accent-blue)" font-family="Courier New, monospace" font-size="11" font-weight="600">ECDH P-256</text>
                <text x="265" y="142" text-anchor="middle" fill="var(--parch-white)" font-family="Source Serif 4, Georgia, serif" font-size="11" opacity="0.8">Encryption Keypair</text>
                <text x="265" y="160" text-anchor="middle" fill="var(--parch-gray)" font-family="Source Serif 4, Georgia, serif" font-size="10">message encryption</text>

                <!-- Arrows to public / private -->
                <line x1="95" y1="170" x2="95" y2="200" stroke="var(--parch-gray)" stroke-width="1" stroke-dasharray="3 3"/>
                <line x1="265" y1="170" x2="265" y2="200" stroke="var(--parch-gray)" stroke-width="1" stroke-dasharray="3 3"/>

                <!-- Public key label -->
                <rect x="40" y="200" width="120" height="36" rx="18" stroke="var(--parch-green)" stroke-width="1" fill="rgba(119, 167, 77, 0.12)"/>
                <text x="100" y="223" text-anchor="middle" fill="var(--parch-green)" font-family="Source Serif 4, Georgia, serif" font-size="11" font-weight="600">Public Key</text>
                <text x="100" y="252" text-anchor="middle" fill="var(--parch-white)" font-family="Source Serif 4, Georgia, serif" font-size="10" opacity="0.6">Shareable ID</text>

                <!-- Private key label -->
                <rect x="200" y="200" width="120" height="36" rx="18" stroke="var(--parch-light-red)" stroke-width="1" fill="rgba(209, 102, 124, 0.08)"/>
                <text x="260" y="223" text-anchor="middle" fill="var(--parch-light-red)" font-family="Source Serif 4, Georgia, serif" font-size="11" font-weight="600">Private Key</text>
                <text x="260" y="252" text-anchor="middle" fill="var(--parch-white)" font-family="Source Serif 4, Georgia, serif" font-size="10" opacity="0.6">Device-only</text>
              </svg>
            </div>
          </div>

          <!-- Explanation -->
          <div class="content-card reveal stagger-4">
            <h3>Browser-generated cryptographic identity</h3>
            <p>
              The first time you open Parch chat, your browser generates two keypairs entirely on your device.
              No server is involved — your keys never leave your browser unless you explicitly export them.
            </p>
            <ul class="key-explain">
              <li><strong>Public key</strong> is your shareable identity. Give it to space admins so they can invite you. Think of it as your address.</li>
              <li><strong>Private key</strong> stays on your device. It proves you own your identity and decrypts messages sent to you.</li>
              <li><strong>Export &amp; import</strong> lets you move your identity to another browser or device. Back it up.</li>
            </ul>
            <div class="badges-row">
              <span class="badge badge-green"><span class="badge-dot"></span> No central password database</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== SECTION 2: AUTHENTICATION ========== -->
    <section class="section section-narrow-top">
      <div class="container">
        <div class="section-label reveal">Section 2</div>
        <h2 class="section-title reveal stagger-1">Prove you own your keys</h2>
        <p class="section-subtitle reveal stagger-2">
          Challenge-response on both sides: host to relay, then browser to relay.
        </p>

        <div class="content-card reveal stagger-3">
          <div class="auth-steps">
            <div class="auth-step">
              <div class="auth-step-number">1</div>
              <div class="auth-step-content">
                <h4>Host authenticates to relay</h4>
                <p>The host signs a relay-issued challenge with its host signing key to become the active host session.</p>
                <code class="auth-signature-format">parch-host-auth:&lt;hostUUID&gt;:&lt;challenge&gt;</code>
              </div>
            </div>

            <div class="auth-step">
              <div class="auth-step-number">2</div>
              <div class="auth-step-content">
                <h4>Relay issues browser challenge</h4>
                <p>After host responsiveness is confirmed, relay sends your browser an auth challenge.</p>
              </div>
            </div>

            <div class="auth-step">
              <div class="auth-step-number">3</div>
              <div class="auth-step-content">
                <h4>Browser signs challenge + encryption key</h4>
                <p>Your browser signs a structured message with its Ed25519 private key.</p>
                <code class="auth-signature-format">parch-chat-auth:&lt;hostUUID&gt;:&lt;challenge&gt;:&lt;encPublicKey&gt;</code>
                <p>The encryption public key is bound into the signed payload, preventing key substitution attacks.</p>
              </div>
            </div>

            <div class="auth-step">
              <div class="auth-step-number">4</div>
              <div class="auth-step-content">
                <h4>Relay verifies and gates actions</h4>
                <p>Relay verifies signatures, then requires host-signed capability tokens for space-scoped actions like joining channels, sending chat, and reading history.</p>
              </div>
            </div>
          </div>

          <div class="auth-detail">
            <p>
              Capability tokens are short-lived and space-scoped. The host issues them for your authenticated public key, and relay validates signature, scope, and expiry before routing sensitive actions.
            </p>
          </div>

          <div class="badges-row">
            <span class="badge badge-blue"><span class="badge-dot"></span> Zero-knowledge authentication</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== SECTION 3: ENCRYPTION (CENTERPIECE) ========== -->
    <section class="section section-narrow-top">
      <div class="container">
        <div class="section-label reveal">Section 3</div>
        <h2 class="section-title reveal stagger-1">Messages sealed before they leave</h2>
        <p class="section-subtitle reveal stagger-2">
          Every message is encrypted, wrapped, and signed before it touches the network.
        </p>

        <!-- 4-step breakdown -->
        <div class="envelope-steps">
          <div class="envelope-step reveal stagger-3">
            <div class="envelope-step-number">1</div>
            <div class="step-icon">
              <svg aria-hidden="true" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="8" y="14" width="32" height="20" rx="4" stroke="var(--parch-green)" stroke-width="1.5" fill="none"/>
                <path d="M16 24h16M24 20v8" stroke="var(--parch-green)" stroke-width="1.5" stroke-linecap="round"/>
                <circle cx="24" cy="10" r="3" stroke="var(--parch-accent-blue)" stroke-width="1.5" fill="none"/>
              </svg>
            </div>
            <div class="envelope-step-badge">AES-256-GCM</div>
            <h4>Generate Key</h4>
            <p>A unique symmetric key is generated for this message alone</p>
          </div>

          <div class="envelope-step reveal stagger-4">
            <div class="envelope-step-number">2</div>
            <div class="step-icon">
              <svg aria-hidden="true" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="6" y="12" width="36" height="24" rx="4" stroke="var(--parch-accent-blue)" stroke-width="1.5" fill="none"/>
                <path d="M12 22h24M12 28h16" stroke="var(--parch-gray)" stroke-width="1" stroke-linecap="round" stroke-dasharray="3 2"/>
                <path d="M38 18l-6 6 6 6" stroke="var(--parch-accent-blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="envelope-step-badge">Encrypt</div>
            <h4>Seal Content</h4>
            <p>Plaintext becomes ciphertext + initialization vector (IV)</p>
          </div>

          <div class="envelope-step reveal stagger-5">
            <div class="envelope-step-number">3</div>
            <div class="step-icon">
              <svg aria-hidden="true" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="16" cy="24" r="8" stroke="var(--parch-accent-blue)" stroke-width="1.5" fill="none"/>
                <circle cx="32" cy="24" r="8" stroke="var(--parch-green)" stroke-width="1.5" fill="none"/>
                <path d="M24 18v12" stroke="var(--parch-bright-white)" stroke-width="1" opacity="0.4"/>
              </svg>
            </div>
            <div class="envelope-step-badge">ECDH + HKDF</div>
            <h4>Wrap Key</h4>
            <p>For each recipient, the AES key is wrapped via key agreement + derivation</p>
          </div>

          <div class="envelope-step reveal stagger-6">
            <div class="envelope-step-number">4</div>
            <div class="step-icon">
              <svg aria-hidden="true" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24 8v10" stroke="var(--parch-green)" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14 24l10 10 10-10" stroke="var(--parch-green)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                <line x1="10" y1="40" x2="38" y2="40" stroke="var(--parch-accent-blue)" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="envelope-step-badge">Ed25519</div>
            <h4>Sign</h4>
            <p>The entire envelope is signed, proving sender and detecting tampering</p>
          </div>
        </div>

        <!-- Envelope structure visualization -->
        <div class="envelope-structure reveal stagger-7">
          <h3>Sealed Envelope Structure</h3>
          <div class="envelope-visual">
            <div class="env-line"><span class="env-brace">{</span></div>
            <div class="env-line"><span class="env-key">"spaceId":</span> <span class="env-value">"..."</span><span class="env-comment">// routing metadata</span></div>
            <div class="env-line"><span class="env-key">"channelId":</span> <span class="env-value">"..."</span></div>
            <div class="env-line"><span class="env-key">"senderPublicKey":</span> <span class="env-value">"..."</span></div>
            <div class="env-line env-highlight"><span class="env-key">"ciphertext":</span> <span class="env-value">"base64..."</span><span class="env-comment">// encrypted content</span></div>
            <div class="env-line env-highlight"><span class="env-key">"iv":</span> <span class="env-value">"base64..."</span><span class="env-comment">// initialization vector</span></div>
            <div class="env-line"><span class="env-key">"wrappedKeys":</span> <span class="env-brace">[</span></div>
            <div class="env-line"><span class="env-nested env-brace">{</span></div>
            <div class="env-line"><span class="env-nested">&nbsp;&nbsp;<span class="env-key">"recipientPub":</span> <span class="env-value">"..."</span></span></div>
            <div class="env-line"><span class="env-nested">&nbsp;&nbsp;<span class="env-key">"wrappedKey":</span> <span class="env-value">"base64..."</span></span><span class="env-comment">// AES key for this recipient</span></div>
            <div class="env-line"><span class="env-nested env-brace">}</span></div>
            <div class="env-line"><span class="env-key env-brace">]</span></div>
            <div class="env-line env-highlight"><span class="env-key">"signature":</span> <span class="env-value">"base64..."</span><span class="env-comment">// Ed25519 over entire envelope</span></div>
            <div class="env-line"><span class="env-brace">}</span></div>
          </div>
        </div>

        <div class="encryption-badges reveal stagger-8">
          <span class="badge badge-green"><span class="badge-dot"></span> Per-message content keys</span>
          <span class="badge badge-blue"><span class="badge-dot"></span> Authenticated encryption</span>
        </div>
      </div>
    </section>

    <!-- ========== SECTION 4: TRUST BOUNDARIES ========== -->
    <section class="section section-narrow-top">
      <div class="container">
        <div class="section-label reveal">Section 4</div>
        <h2 class="section-title reveal stagger-1">What each layer can see</h2>
        <p class="section-subtitle reveal stagger-2">
          Three layers, clear boundaries. Plaintext never leaves the browser.
        </p>

        <div class="trust-grid">
          <!-- Browser -->
          <div class="trust-col trust-col-browser reveal stagger-3">
            <span class="plaintext-label">PLAINTEXT ZONE</span>
            <div class="trust-icon">
              <svg aria-hidden="true" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="6" y="10" width="44" height="32" rx="4" stroke="var(--parch-green)" stroke-width="2" fill="none"/>
                <line x1="6" y1="34" x2="50" y2="34" stroke="var(--parch-green)" stroke-width="2"/>
                <circle cx="28" cy="38" r="2" fill="var(--parch-green)"/>
                <rect x="20" y="42" width="16" height="4" rx="2" stroke="var(--parch-green)" stroke-width="2" fill="none"/>
              </svg>
            </div>
            <div class="trust-role">Your Device</div>
            <h3>Browser</h3>
            <ul>
              <li class="trust-yes">Generates all cryptographic keys</li>
              <li class="trust-yes">Encrypts and decrypts messages</li>
              <li class="trust-yes">Sees plaintext content</li>
              <li class="trust-yes">The only place plaintext exists</li>
            </ul>
          </div>

          <!-- Relay -->
          <div class="trust-col reveal stagger-4">
            <div class="trust-icon">
              <svg aria-hidden="true" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="28" cy="28" r="18" stroke="var(--parch-accent-blue)" stroke-width="2" fill="none"/>
                <circle cx="28" cy="28" r="6" stroke="var(--parch-accent-blue)" stroke-width="2" fill="none"/>
                <line x1="28" y1="10" x2="28" y2="22" stroke="var(--parch-accent-blue)" stroke-width="2"/>
                <line x1="28" y1="34" x2="28" y2="46" stroke="var(--parch-accent-blue)" stroke-width="2"/>
                <line x1="10" y1="28" x2="22" y2="28" stroke="var(--parch-accent-blue)" stroke-width="2"/>
                <line x1="34" y1="28" x2="46" y2="28" stroke="var(--parch-accent-blue)" stroke-width="2"/>
              </svg>
            </div>
            <div class="trust-role">Transit Layer</div>
            <h3>Relay</h3>
            <ul>
              <li class="trust-yes">Verifies host and user signatures</li>
              <li class="trust-yes">Validates signed capability tokens</li>
              <li class="trust-yes">Routes sealed envelopes</li>
              <li class="trust-no">Cannot read message contents</li>
              <li class="trust-no">Sees ciphertext + routing metadata</li>
            </ul>
          </div>

          <!-- Host -->
          <div class="trust-col reveal stagger-5">
            <div class="trust-icon">
              <svg aria-hidden="true" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="10" y="8" width="36" height="12" rx="3" stroke="var(--parch-accent-blue)" stroke-width="2" fill="none"/>
                <rect x="10" y="22" width="36" height="12" rx="3" stroke="var(--parch-accent-blue)" stroke-width="2" fill="none"/>
                <rect x="10" y="36" width="36" height="12" rx="3" stroke="var(--parch-accent-blue)" stroke-width="2" fill="none"/>
                <circle cx="38" cy="14" r="2" fill="var(--parch-green)"/>
                <circle cx="38" cy="28" r="2" fill="var(--parch-green)"/>
                <circle cx="38" cy="42" r="2" fill="var(--parch-green)"/>
              </svg>
            </div>
            <div class="trust-role">Storage Layer</div>
            <h3>Host</h3>
            <ul>
              <li class="trust-yes">Stores encrypted envelopes</li>
              <li class="trust-yes">Manages membership and invites</li>
              <li class="trust-yes">Issues space capability tokens</li>
              <li class="trust-no">Cannot read message contents</li>
              <li class="trust-no">Sees only ciphertext</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== SECTION 5: IMPORTANT NOTES ========== -->
    <section class="section section-compact">
      <div class="container">
        <div class="section-label reveal">Section 5</div>
        <h2 class="section-title reveal stagger-1">Important notes</h2>
        <p class="section-subtitle reveal stagger-2">
          Things to keep in mind when using Parch chat.
        </p>

        <div class="notes-callout reveal stagger-3">
          <h3>Before you begin</h3>
          <ul class="notes-list">
            <li><strong>Back up your identity file.</strong> If you lose your private keys, you lose access to all encrypted chat history tied to that identity. Export your identity and store it somewhere safe.</li>
            <li><strong>Capabilities expire by design.</strong> Space permissions are carried in short-lived signed tokens and refreshed automatically. Expiry limits replay windows after membership changes.</li>
            <li><strong>New members cannot read old messages.</strong> Encryption keys are generated per-message with the current member list. Someone invited after a conversation has already happened will not be able to decrypt prior messages.</li>
            <li><strong>Tampered messages are rejected automatically.</strong> Every envelope carries an Ed25519 signature. If any part of the envelope has been modified in transit or storage, the signature check fails and the message is discarded.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ========== FOOTER ========== -->
    <footer class="site-footer">
      <div class="container">
        <div class="footer-inner">
          <nav class="footer-links">
            <a href="https://chat.parchchat.com/client">Open Chat</a>
            <a href="/call">Video Calls</a>
          </nav>
          <div class="footer-copy">&copy; ParchChat.com 2026</div>
        </div>
      </div>
    </footer>

    <!-- ========== INTERSECTION OBSERVER ========== -->
    <script>
      (function () {
        var prefersReduced = window.matchMedia(
          "(prefers-reduced-motion: reduce)"
        ).matches;

        if (prefersReduced) {
          document.querySelectorAll(".reveal").forEach(function (el) {
            el.classList.add("visible");
          });
          return;
        }

        var observer = new IntersectionObserver(
          function (entries) {
            entries.forEach(function (entry) {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
                observer.unobserve(entry.target);
              }
            });
          },
          {
            threshold: 0.15,
            rootMargin: "0px 0px -40px 0px",
          }
        );

        document.querySelectorAll(".reveal").forEach(function (el) {
          observer.observe(el);
        });
      })();
    </script>
  </body>
</html>
